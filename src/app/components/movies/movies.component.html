<div class="container">
    <div class="flex-container">
        <div class="accordion-container">
            <mat-accordion>
                <mat-expansion-panel>
                    <mat-expansion-panel-header>
                        <mat-panel-title>Žanrovi</mat-panel-title>
                    </mat-expansion-panel-header>
                    <p>Akcija</p>
                    <p>Drama</p>
                    <p>Komedija</p>
                </mat-expansion-panel>

                <mat-expansion-panel>
                    <mat-expansion-panel-header>
                        <mat-panel-title>Trajanje</mat-panel-title>
                    </mat-expansion-panel-header>
                    <p>Akcija</p>
                    <p>Drama</p>
                    <p>Komedija</p>
                </mat-expansion-panel>

                <mat-expansion-panel>
                    <mat-expansion-panel-header>
                        <mat-panel-title>Režiser</mat-panel-title>
                    </mat-expansion-panel-header>
                    <p>Akcija</p>
                    <p>Drama</p>
                    <p>Komedija</p>
                </mat-expansion-panel>

                <mat-expansion-panel>
                    <mat-expansion-panel-header>
                        <mat-panel-title>Glumci</mat-panel-title>
                    </mat-expansion-panel-header>
                    <p>Akcija</p>
                    <p>Drama</p>
                    <p>Komedija</p>
                </mat-expansion-panel>

                <mat-expansion-panel>
                    <mat-expansion-panel-header>
                        <mat-panel-title>Datum izlaska</mat-panel-title>
                    </mat-expansion-panel-header>
                    <p>Akcija</p>
                    <p>Drama</p>
                    <p>Komedija</p>
                </mat-expansion-panel>

                <mat-expansion-panel>
                    <mat-expansion-panel-header>
                        <mat-panel-title>Datum projekcije</mat-panel-title>
                    </mat-expansion-panel-header>
                    <p>Akcija</p>
                    <p>Drama</p>
                    <p>Komedija</p>
                </mat-expansion-panel>

                <mat-expansion-panel>
                    <mat-expansion-panel-header>
                        <mat-panel-title>Cena</mat-panel-title>
                    </mat-expansion-panel-header>
                    <p>2024</p>
                    <p>2023</p>
                    <p>2022</p>
                </mat-expansion-panel>
            </mat-accordion>
        </div>

        <div class="cards-container">


            @if (error) {
                <app-error errorMessage="{{error}}"/>
            }

            @if (movies) {
                @for (movie of movies; track movie) {
                    <mat-card class="movie-card" appearance="outlined">
                        <div class="image-container">
                            <a [routerLink]="['/filmovi', utilityService.getSlug(movie.title)]">
                                <img mat-card-image src="{{movie.posterPath}}" alt="{{movie.title}}">
                            </a>
                        </div>
                        <mat-card-content>
                            <p class="movie-title">
                                <a [routerLink]="['/filmovi', utilityService.getSlug(movie.title)]">
                                    {{ movie.title }}
                                </a>
                            </p>
                            <p>Početak prikazivanja:</p>
                        </mat-card-content>
                        <mat-card-actions>
                            <button mat-button>
                                <mat-icon>shopping_cart</mat-icon>
                                Dodaj u korpu
                            </button>
                            <a mat-button href="{{movie.trailerUrl}}" target="_blank">
                                <mat-icon>movie</mat-icon>
                                Trailer
                            </a>
                        </mat-card-actions>
                    </mat-card>
                }
            } @else {
                <app-loading/>
            }
        </div>
    </div>
</div>
